Tue Sep 25 09:40:00 2001                        Michael Jennings (mej)

Fixes for the erasing of the RPM's just built by mzbuild. :P
----------------------------------------------------------------------
Fri Oct  5 16:11:25 2001                        Michael Jennings (mej)

Assorted fixes.
----------------------------------------------------------------------
Fri Oct  5 17:34:53 2001                        Michael Jennings (mej)

Get rid of that buffy stuff.
----------------------------------------------------------------------
Wed Oct 10 15:07:17 2001                        Michael Jennings (mej)

Fixes to make imgtool work properly.
----------------------------------------------------------------------
Sun Nov  4 12:40:34 2001                        Michael Jennings (mej)

Fixes for mediatool and friends.
----------------------------------------------------------------------
Sun Nov  4 20:47:26 2001                        Michael Jennings (mej)

Let's try this again.
----------------------------------------------------------------------
Sun Nov  4 20:48:32 2001                        Michael Jennings (mej)

Scripts work better when they are executable....
----------------------------------------------------------------------
Mon Nov  5 12:02:22 2001                        Michael Jennings (mej)

New tool for making bootable CD's.
----------------------------------------------------------------------
Thu Nov 29 13:52:06 2001                        Michael Jennings (mej)

Lots of changes over the past month.... :-)
----------------------------------------------------------------------
Thu Dec 20 19:25:40 2001                        Michael Jennings (mej)

The beginnings of some SGML documentation.
----------------------------------------------------------------------
Wed Jan  2 19:12:58 2002                        Michael Jennings (mej)

Debian packaging goop.  Yikes.
----------------------------------------------------------------------
Thu Jan  3 10:12:16 2002                        Michael Jennings (mej)

Cleaned up the Debian stuff thanks to some help from Brian Almieda
<bma@debian.org>.
----------------------------------------------------------------------
Thu Jan  3 10:16:44 2002                        Michael Jennings (mej)

Make sure to include debian/ directory in source tarball.
----------------------------------------------------------------------
Fri Jan  4 18:36:49 2002                        Michael Jennings (mej)

Working on deb support.
----------------------------------------------------------------------
Mon Feb 18 15:38:36 2002                        Michael Jennings (mej)

Added support for passing SRPM's to mzmerge.
----------------------------------------------------------------------
Mon Feb 25 18:49:59 2002                        Michael Jennings (mej)

Argh.  How long has that extra 's' on the end of query_log() been
there? :P
----------------------------------------------------------------------
Mon Feb 25 19:00:20 2002                        Michael Jennings (mej)

Updated Debian changelog
----------------------------------------------------------------------
Tue Feb 26 15:49:08 2002                        Michael Jennings (mej)

Fixed the usage of $EDITOR in case it's more than one word.
----------------------------------------------------------------------
Tue Feb 26 15:58:10 2002                        Michael Jennings (mej)

If arguments are given to mzput without -a or -r, assume -x, but do
the ChangeLog.
----------------------------------------------------------------------
Tue Feb 26 16:47:34 2002                        Michael Jennings (mej)

Better finding of ChangeLog...I hope.
----------------------------------------------------------------------
Tue Feb 26 16:51:05 2002                        Michael Jennings (mej)

Cosmetic changes.  I'm testing the changelog finder thingie. :)
----------------------------------------------------------------------
Tue Feb 26 16:52:17 2002                        Michael Jennings (mej)

Still testing...
----------------------------------------------------------------------
Tue Feb 26 16:58:39 2002                        Michael Jennings (mej)

More testing.
----------------------------------------------------------------------
Tue Feb 26 17:01:21 2002                        Michael Jennings (mej)

Argh...it broke.
----------------------------------------------------------------------
Tue Feb 26 17:03:03 2002                        Michael Jennings (mej)

Still fixing stuff...
----------------------------------------------------------------------
Tue Feb 26 17:05:14 2002                        Michael Jennings (mej)

Okay, let's see if *this* works too....
----------------------------------------------------------------------
Wed Feb 27 16:06:26 2002                        Michael Jennings (mej)

Fixed a bug with commits from the top level directory when specifying
filenames.
----------------------------------------------------------------------
Sat May  4 09:36:06 2002                        Michael Jennings (mej)

Syncing back up....
----------------------------------------------------------------------
Mon Jun 24 13:30:47 2002                        Michael Jennings (mej)

Fixes for the new rpm.
----------------------------------------------------------------------
Wed Jul 10 00:04:41 2002                        Michael Jennings (mej)

Fix handling of binary-only packages.
----------------------------------------------------------------------
Wed Jul 10 00:11:14 2002                        Michael Jennings (mej)

Fix hierarchical variable fallbacks.
----------------------------------------------------------------------
Wed Jul 10 00:22:09 2002                        Michael Jennings (mej)

Taking a crack at the apt stuff.
----------------------------------------------------------------------
Wed Jul 10 11:44:52 2002                        Michael Jennings (mej)

apt stuff should work now.
----------------------------------------------------------------------
Wed Jul 10 16:26:39 2002                        Michael Jennings (mej)

Still working on apt stuff. :(
----------------------------------------------------------------------
Tue Jul 16 12:59:29 2002                        Michael Jennings (mej)

Sign the hash file.
----------------------------------------------------------------------
Wed Jul 31 11:23:20 2002                        Michael Jennings (mej)

Debian package updates.
----------------------------------------------------------------------
Tue Sep 17 18:08:17 2002                        Michael Jennings (mej)

Gotta watch that filename quoting with RPM's....
----------------------------------------------------------------------
Sun Sep 22 16:05:11 2002                        Michael Jennings (mej)

Fixes for spec file handling in merges/imports of SRPM's.
----------------------------------------------------------------------
Thu Apr 10 15:07:54 2003                        Michael Jennings (mej)

Fixes to spec file handling.
----------------------------------------------------------------------
Mon May 12 11:05:07 2003                        Michael Jennings (mej)

Fixed retry algorithm.
----------------------------------------------------------------------
Mon Jun  2 14:15:55 2003                        Michael Jennings (mej)

Don't bitch about symlinks that are already there.
----------------------------------------------------------------------
Mon Jun  2 14:17:26 2003                        Michael Jennings (mej)

Make sure apt is present and working, and remove old symlinks rather
than failing.
----------------------------------------------------------------------
Mon Jun  2 12:30:45 2003                        Michael Jennings (mej)

Don't commit right away, just add/remove stuff.
----------------------------------------------------------------------
Mon Jun  2 14:42:30 2003                        Michael Jennings (mej)

Working on fixing uptool to not nuke packages of other architectures
than the current one.
----------------------------------------------------------------------
Mon Jun  2 14:45:28 2003                        Michael Jennings (mej)

Oops, forgot to nuke that macro.
----------------------------------------------------------------------
Mon Jun  2 14:47:13 2003                        Michael Jennings (mej)

Forgot a ) too.
----------------------------------------------------------------------
Wed Jun 18 16:58:23 2003                        Michael Jennings (mej)

Fixed handling of top-level warning/debug messages.

Updated uptool to do automated version checking using a Perl version
of my LibAST version comparison function.
----------------------------------------------------------------------
Sat Aug  2 13:10:33 2003                        Michael Jennings (mej)

Fix for newer (RH9) rpm.
----------------------------------------------------------------------
Sun Nov 30 13:10:53 2003                        Michael Jennings (mej)

Changed srctool test mode to "local" mode.  And made it work right.
----------------------------------------------------------------------
Sun Nov 30 16:43:03 2003                        Michael Jennings (mej)

Patch re-generation works now.
----------------------------------------------------------------------
Sun Nov 30 16:48:47 2003                        Michael Jennings (mej)

Resurrecting old docs so I can update them.
----------------------------------------------------------------------
Tue Dec  2 17:18:35 2003                        Michael Jennings (mej)

Tasty new FAQ stuff.
----------------------------------------------------------------------
Thu Dec  4 17:23:37 2003                        Michael Jennings (mej)

Rounding out the FAQ (so far).  Plus a minor fix to rebuild packages
using mzbuild.
----------------------------------------------------------------------
Thu Dec  4 18:04:57 2003                        Michael Jennings (mej)

Updated debian/ build goop.
----------------------------------------------------------------------
Sat Dec 13 13:01:48 2003                        Michael Jennings (mej)

Fix dependencies.
----------------------------------------------------------------------
Tue Dec 30 19:31:00 2003                        Michael Jennings (mej)

Support building packages inside a chroot jail.
----------------------------------------------------------------------
Wed Dec 31 08:21:47 2003                        Michael Jennings (mej)

Minor fixes.
----------------------------------------------------------------------
Wed Dec 31 16:08:26 2003                        Michael Jennings (mej)

Working on hint and chroot-resync support.
----------------------------------------------------------------------
Sat Jan  3 19:45:10 2004                        Michael Jennings (mej)

Fix rebuild of SRPM's.
----------------------------------------------------------------------
Mon Jan  5 14:33:06 2004                        Michael Jennings (mej)

Added support for instroot init/reset/copy.
----------------------------------------------------------------------
Mon Jan  5 16:16:49 2004                        Michael Jennings (mej)

Update help screens.
----------------------------------------------------------------------
Tue Jan  6 17:20:29 2004                        Michael Jennings (mej)

Added support for setting hints/hint installer from environment.
----------------------------------------------------------------------
Sat Jan 10 10:07:58 2004                        Michael Jennings (mej)

Install BuildRequires and BuildPrereq's in addition to Hints before
building.
----------------------------------------------------------------------
Wed Jan 14 21:46:23 2004                        Michael Jennings (mej)

Fixes to chroot builds and dependency handling.
----------------------------------------------------------------------
Fri Jan 23 08:30:25 2004                        Michael Jennings (mej)

Working on parallel build fixes.
----------------------------------------------------------------------
Fri Jan 23 19:20:23 2004                        Michael Jennings (mej)

Fixes for parallel chrooted builds.
----------------------------------------------------------------------
Sat Jan 24 20:19:01 2004                        Michael Jennings (mej)

Permissions/ownership fixes for installed files.
----------------------------------------------------------------------
Mon Jan 26 15:44:26 2004                        Michael Jennings (mej)

Added build-as-user option.

Removed unnecessary debugging statements in nuke_tree().

Force ownership in created tarballs to root/root.

Fixed -L option to work.
----------------------------------------------------------------------
Mon Jan 26 17:14:42 2004                        Michael Jennings (mej)

Fixed build as other user for SRPM's.

Cleaned up some debugging output.
----------------------------------------------------------------------
Wed Jan 28 11:11:26 2004                        Michael Jennings (mej)

Added support for importing PDR's.
----------------------------------------------------------------------
Fri Jan 30 18:16:20 2004                        Michael Jennings (mej)

Removed some unneeded debugging output.

Fixed package type identification to be more complete.

Fixed parsing of RPM build errors.

Fixed mzprep and mzpatch for PDR's.

Added module inclusion (and --help info) for buildtool's -s option.
----------------------------------------------------------------------
Fri Feb 13 22:16:37 2004                        Michael Jennings (mej)

Fixed minor buildtool bug.

Added perlpkg to assist with packaging perl modules and their
dependencies.
----------------------------------------------------------------------
Sun Feb 29 22:09:18 2004                        Michael Jennings (mej)

Fixed placement of newly-generated patches for SPM's.

Fixed overwriting of old packages with new ones in pkgtool.

Added code for alternative build/log tree layout.
----------------------------------------------------------------------
Fri Mar  5 17:26:11 2004                        Michael Jennings (mej)

The orc-style build tree layout seems to be working.
----------------------------------------------------------------------
Sun Mar 14 10:40:58 2004                        Michael Jennings (mej)

Remove build-temporary files after build is done.

Fixed obscure regexp-quoting bug.
----------------------------------------------------------------------
Wed Mar 24 14:48:55 2004                        Michael Jennings (mej)

Improved perl spec file template.

Added support for keywords that are *not* packages in dependency
statements.

Use version and release in package key so we can build multiple SRPM's
of the same package.

Added update capability to perlpkg.

Moved templating code into an OO perl module.

Added ability to package only and ignore build deps in perlpkg.

Fixed missing '/' characters in buildtool.
----------------------------------------------------------------------
Wed Mar 24 21:58:13 2004                        Michael Jennings (mej)

Added specgen, a very basic specfile generator.  It will get more
powerful as time progresses.
----------------------------------------------------------------------
Thu Mar 25 11:10:42 2004                        Michael Jennings (mej)

Minor touchups for 1.7-0.2.
----------------------------------------------------------------------
Fri Mar 26 16:26:04 2004                        Michael Jennings (mej)

Made temp space creation more generic.  This needs to be used for all
temp space creation ASAP.

Centralized some common initialization code.

Added 2 new spec templates, make and imake.

Added specgen to installed scripts.

specgen now has automatic detection of:
 - %setup macro parameters
 - documentation files
 - package license
----------------------------------------------------------------------
Tue Mar 30 18:56:35 2004                        Michael Jennings (mej)

Fixes for older systems.
----------------------------------------------------------------------
Tue Mar 30 21:04:18 2004                        Michael Jennings (mej)

This was the start of subversion support, but I decided I really
didn't care too much for the design.  But I thought I'd check this in
anyway since it doesn't seem to break anything.  But I'm going to
implement the revision control backend in a new and completely
different way to (hopefully) be a lot easier to extend.
----------------------------------------------------------------------
Tue Mar 30 21:21:57 2004                        Michael Jennings (mej)

Converted pkgtool to use new mezz_init() and options stuff.

Moved cache files.
----------------------------------------------------------------------
Thu Apr  1 18:24:19 2004                        Michael Jennings (mej)

Added config engine.

Added initial attempt at preserving successful build logs.
----------------------------------------------------------------------
Sun Apr  4 22:28:21 2004                        Michael Jennings (mej)

Refactored config engine.

Made error messages shorter and less redundant.

Merged RPM and SRPM info into new cache.  No more unnecessary rpm
queries on startup.
----------------------------------------------------------------------
Wed Apr  7 14:23:39 2004                        Michael Jennings (mej)

Converted buildtool to use new init/option style.

Added skeleton for new source code management (SCM) mechanism.
----------------------------------------------------------------------
Thu Apr  8 17:40:49 2004                        Michael Jennings (mej)

Correct hint filename for new package name scheme.
----------------------------------------------------------------------
Sun Apr 11 20:05:16 2004                        Michael Jennings (mej)

Allow orc-style cleaning to preserve SPECS directories.

Exit code now corresponds with how many packages were actually built
during this run.  If none were built, the number of failures is
returned as a negative number.

Added 2 new options, one of which should already work, for determining
whether or not to retry broken builds or rebuild old successful
builds.
----------------------------------------------------------------------
Wed Apr 14 20:19:18 2004                        Michael Jennings (mej)

Include spec file in post-build tree.
----------------------------------------------------------------------
Mon Apr 19 22:56:06 2004                        Michael Jennings (mej)

Moved config hash to object hash to allow multiple simultaneous config
objects to exist independently.

Removed unused member functions based on key names.  Too hairy.

Enabled configuration file for buildtool.
----------------------------------------------------------------------
Mon May 10 10:39:31 2004                        Michael Jennings (mej)

Minor module changes to help prevent warnings.
----------------------------------------------------------------------
Mon May 10 10:46:16 2004                        Michael Jennings (mej)

Added instroot pool to buildtool to save copy/delete time.

Moved some oft-used functionality to Util.pm.
----------------------------------------------------------------------
Mon May 10 10:42:57 2004                        Michael Jennings (mej)

Don't die on STOP signals.
----------------------------------------------------------------------
Mon May 17 21:50:04 2004                        Michael Jennings (mej)

Fixed minor hint installer bug.
----------------------------------------------------------------------
Fri Jun  4 13:15:28 2004                        Michael Jennings (mej)

Lots of stuff here including building a directory full of SPM's.
----------------------------------------------------------------------
Fri Jun  4 16:30:09 2004                        Michael Jennings (mej)

Fixed mid-module import.
----------------------------------------------------------------------
Thu Jun 10 17:04:18 2004                        Michael Jennings (mej)

Fixed several bugs nabbed by Greg Kurtzer <greg@caosity.org>.
----------------------------------------------------------------------
Fri Jun 18 14:09:59 2004                        Michael Jennings (mej)

When importing new packages from SRPM's, always include an initial
ChangeLog entry.  Hopefully this is it for 1.7 final.
----------------------------------------------------------------------
Tue Jun 22 19:03:03 2004                        Michael Jennings (mej)

Here's 1.7-2.  One minor fix which only involved the actual commit
message in the "cvs log."
----------------------------------------------------------------------
Tue Jun 22 19:07:13 2004                        Michael Jennings (mej)

Here's all the new SCM stuff.  Needs more thorough testing, but so far
it Works For Me(tm).  :-)
----------------------------------------------------------------------
Tue Jun 22 20:18:54 2004                        Michael Jennings (mej)

This may or may not fix buildtool.  Pkg.pm is still broken. :(
----------------------------------------------------------------------
Wed Jun 23 22:58:22 2004                        Michael Jennings (mej)

Additional fixes to finally eliminate RevCtl.pm altogether.
----------------------------------------------------------------------
Thu Jun 24 18:25:35 2004                        Michael Jennings (mej)

Fixed logic error with "mzput -x"
----------------------------------------------------------------------
Thu Jun 24 18:30:52 2004                        Michael Jennings (mej)

Another logic error. :(
----------------------------------------------------------------------
Thu Jun 24 19:29:24 2004                        Michael Jennings (mej)

Fixed CVS logins.
----------------------------------------------------------------------
Thu Jun 24 19:34:07 2004                        Michael Jennings (mej)

Update spec file with new release number.

Pray that this message goes to list.  ;-)
----------------------------------------------------------------------
Thu Jun 24 19:37:22 2004                        Michael Jennings (mej)

Testing commit e-mail....
----------------------------------------------------------------------
Mon Jun 28 12:56:50 2004                        Michael Jennings (mej)

Tag/branch/revision-related stuff should be working now.
----------------------------------------------------------------------
Tue Jul 13 15:58:01 2004                        Michael Jennings (mej)

Fixed regexp quoting error in specgen.

Reworked banner and spacing in commit message to be a little more
friendly and seamless.  Also fixed the gratuitous removal of blank
lines in the message.
----------------------------------------------------------------------
Wed Jul 21 20:30:58 2004                        Michael Jennings (mej)

gmkurtzer is helping me track down a cache bug....
----------------------------------------------------------------------
Wed Jul 21 22:09:06 2004                        Michael Jennings (mej)

This should fix the caching problems.  Also added an option for
setting the root of the build tree (formerly only
$MEZZANINE_BUILDDIR).
----------------------------------------------------------------------
Thu Jul 22 17:02:48 2004                        Michael Jennings (mej)

Treat "#BuildSuggests:" the same as BuildRequires and hints.
----------------------------------------------------------------------
Sat Jul 24 23:00:15 2004                        Michael Jennings (mej)

Hopefully this will fix the importing of directory trees.
----------------------------------------------------------------------
Sat Jul 24 23:47:14 2004                        Michael Jennings (mej)

Trying again to fix directory import.
----------------------------------------------------------------------
Sun Jul 25 20:21:38 2004                        Michael Jennings (mej)

I think I finally got it right this time.
----------------------------------------------------------------------
Mon Jul 26 15:33:03 2004                        Michael Jennings (mej)

Maybe if I *don't* say it's fixed this time, it'll actually work.
----------------------------------------------------------------------
Wed Jul 28 17:33:28 2004                        Michael Jennings (mej)

Changed "hint installer" to "dep installer" since that's more
accurate.  You'll have to change your configs or run --savecfg,
though, sorry.

Added some debugging to try and figure out why some packages keep
building unnecessarily.

Added ability to specify --nodebug.

Removed -march=pentium from default CFLAGS value (closes bug#645).

Fixed error where buildtool required a hints path to use the dep
installer properly.

Added timeout for subcommands so that hung processes don't plug up the
pipes for too long.  Also allow passing of arrayref for params.
----------------------------------------------------------------------
Wed Jul 28 18:19:31 2004                        Michael Jennings (mej)

Doh.
----------------------------------------------------------------------
Thu Jul 29 13:56:59 2004                        Michael Jennings (mej)

Added some more debugging for examining package placement.

Remove instroots once building is finished.
----------------------------------------------------------------------
Wed Aug 18 16:49:39 2004                        Michael Jennings (mej)

Clean unpackaged files from perl modules.
----------------------------------------------------------------------
Wed Aug 18 16:59:02 2004                        Michael Jennings (mej)

With these changes, I hope to accomplish the following:
  - Instead of using the directory timestamp for modules, find the
    newest file/directory inside the module.  This should solve the
    problem where packages weren't being noted for rebuild.
  - If the SRPM directory isn't there, get a directory listing.  I'm
    trying to figure out why it keeps disappearing and reappearing.
  - Include .#* and *~ in files nuked by "mzclean" (stupid CVS).
  - Also nuke directories which no longer exist on the server with
    "mzclean."
  - Ignore .* and *~ files when looking for spec files.
  - Error out if a spec file contains an epoch.
----------------------------------------------------------------------
Wed Aug 25 17:34:05 2004                        Michael Jennings (mej)

Mostly small fixes and touch-ups.  I also added more mzimport
debugging so I can determine exactly how gmkurtzer is managing to
screw the pooch. :-)
----------------------------------------------------------------------
Tue Aug 31 12:59:32 2004                        Michael Jennings (mej)

Hopefully this will fix the relative path problems with importing an
FST from the current directory.
----------------------------------------------------------------------
Tue Aug 31 20:25:41 2004                        Michael Jennings (mej)

Oops.  Broke building of PDR's.
----------------------------------------------------------------------
Tue Sep 14 18:06:06 2004                        Michael Jennings (mej)

Fixed timestamp checking.

Translate perl(Some::Module) to perl-Some-Module for installing build
deps.
----------------------------------------------------------------------
Wed Sep 29 16:57:17 2004                        Michael Jennings (mej)

Note when packages were skipped rather than just saying they built.

Check for updates to packages that were previously broken before
refusing to rebuild them.
----------------------------------------------------------------------
Thu Sep 30 17:59:31 2004                        Michael Jennings (mej)

Fixed diffs of CRLF-delimited files.

Changed default timeout to 900 seconds.
----------------------------------------------------------------------
Sun Oct  3 21:18:30 2004                        Michael Jennings (mej)

Don't barf if stat fails.
----------------------------------------------------------------------
Tue Oct 19 15:34:28 2004                        Michael Jennings (mej)

Fixed minor cosmetic issue in perlpkg.

specgen will now scan installed files, update the spec, and replace
paths with auto* macros as appropriate.

Added debugging to try to track down weird permissions issue.
----------------------------------------------------------------------
Wed Oct 20 15:00:30 2004                        Michael Jennings (mej)

Still trying to fix permissions issue.
----------------------------------------------------------------------
Tue Oct 26 12:26:26 2004                        Michael Jennings (mej)

Undo some verbose debugging.

Ignore non-spec files in SPM's too.
----------------------------------------------------------------------
Fri Oct 29 16:34:32 2004                        Michael Jennings (mej)

Perpetual rebuild issue is now worked around.

Fix mzprep error output error.

Preserve latest logfile for each package.
----------------------------------------------------------------------
Fri Oct 29 16:37:23 2004                        Michael Jennings (mej)

Copyright: -> License: (jbj is a fascist bastard)  ;-P
----------------------------------------------------------------------
Sun Jan  2 20:22:16 2005                        Michael Jennings (mej)

Copyright: -> License: in templates.

New template for web-based packages (horde, tikiwiki, etc.).

perlpkg now avoids packages which require Meta, a horrible evil
worthless abomination of perl modules which royally cornholes
everything it touches.

Allow abbreviations and CVS-like synonyms for keyword expansion mode
specification in addition to the old "source" and "binary" options.
----------------------------------------------------------------------
Fri Jan 28 19:35:42 2005                        Michael Jennings (mej)

Keep logfile if we actually built the package, even if it succeeded
before.  This should fix bug#744.
----------------------------------------------------------------------
Thu Feb  3 21:30:05 2005                        Michael Jennings (mej)

This is a pretty huge changeset, and I've been working on parts of it
for ages, so bear with me.  Here's the list:

Added --allow-epoch (and --noallow-epoch) to build configuration
(ALLOW_EPOCH) and buildtool/pkgtool command lines.  This will allow
handling of non-cAos epoch-encumbered packages (like those from
CentOS).  The default is to allow, so the cAos build system will need
to be updated to pass --noallow-epoch.

Cleaned up the ordering of some things in the spec file.

Fixed a bug in specgen with *.zip source tarballs.

Added support for .jar files.  To go along with this, I added a
template which will create a proper package from nothing but a single
JAR file.  It autocreates a script in /usr/bin/ to invoke it.

Added a qmake template for packages with Makefile.pro.

Fixed a typo in the replacement macro paths.

Fixed the extra newline on the end of the filelist items and removed
the symlink target info.

Added a "move" method to the CVS module which now replaces the
&move_package_files() functionality that was in srctool.  This will be
a big help when doing Subversion too.

Added taint checks to Config module and fixed an issue with get/set
for empty/zero/undefined data.

Changed Epoch error to warning when converting an SRPM to an SPM.

Added the ability to have text-only templates in the Template module;
i.e., no on-disk file is needed.  This is helpful for doing
single-string token replacement.

Added taint checks to the Util module along with some new routines to
convert an integer into an expression of bytes (kB, MB, GB, etc.), to
remove leading/trailing whitespace, and to forceably truncate a file
in a safe-for-open-files manner.

Moved the mzsync functionality to the CVS module in a similar manner
as the mzmv functionality (see above).

Fixed some symlink-handling bugs in the CVS module.

I expect to have caused some problems, so please test this one, but
don't get rid of your 1.8-0.19 RPM just yet. :-)
----------------------------------------------------------------------
Sat May  7 01:23:58 2005                        Michael Jennings (mej)

Added local mode to perlpkg providing the ability to bypass CPAN and
package locally-stored CPAN distribution files.  By request from
Maarten Stolte <m.stolte@datadevil.demon.nl>.
----------------------------------------------------------------------
Thu May 19 17:11:08 2005                        Michael Jennings (mej)

New feature:  Keep files during mzmerge.  When merging in an SRPM from
an upstream/alternate source, it's often frustrating to lose any
personal/custom patches, spec file changes, etc. from your previous
work and have to recreate them somewhat blindly (or avoid using
mzmerge altogether).  Now you can tell mzmerge to keep certain old
files around using the -k/--keep option.  The value passed in with -k
is a list of files types to keep:  F for spec file, S for sources, and
P for patches (just like the SPM directory structure).  You can also
specify source/patch numbers or ranges, such as P1000-1003 (keep
patches 1000 through 1003) or S5+ (keep sources numbered 5 and
higher).  Example:  mzmerge -k "F,P1000+" ../foo.src.rpm will merge in
the new SRPM while preserving the old spec file (and naming the new
one foo.spec.mezz_new) and any patch numbered 1000 or higher.  This
will be especially helpful for the kernel packages.

I also "fixed" the spec file parser.  The spec file is now passed
through rpm's eval first to properly evaluate macros and %if's.
----------------------------------------------------------------------
Mon May 23 09:39:05 2005                        Michael Jennings (mej)

Slight syntax changes to work with older versions of perl and rpm.
----------------------------------------------------------------------
Wed May 25 12:20:32 2005                        Michael Jennings (mej)

Unified and improved the spec file search.
----------------------------------------------------------------------
Fri Jun 10 08:58:35 2005                        Michael Jennings (mej)

Minor typo fix.
----------------------------------------------------------------------
Mon Jul 11 19:52:00 2005                        Michael Jennings (mej)

Rename SCM object propset/propget routines to (permanently) avoid
conflict with SCM systems.

Fixed bug where default TARGET insisted on attempting to build DEB's.

Fall back on internal spec file parser if "rpm --eval" fails.

Added 2 new specgen templates for kernel modules.
----------------------------------------------------------------------
Thu Jul 21 13:40:07 2005                        Michael Jennings (mej)

A few minor CVS-related bugfixes related to missing keyword options
and branch tagging.
----------------------------------------------------------------------
Thu Jul 21 13:50:25 2005                        Michael Jennings (mej)

One last little tweak, and I'm calling this 1.8 final.
----------------------------------------------------------------------
Fri Jul 22 10:16:42 2005                        Michael Jennings (mej)

Now that 1.8 is out the door, here's the beginning of the 1.9 tree
with Subversion support.  This is a work in progress, so use caution.
----------------------------------------------------------------------
Tue Jul 26 18:24:30 2005                        Michael Jennings (mej)

Fixed mzstat, mzinfo, mzblame, mzdiff, and mzadd for Subversion.  Also
fixed some undefined return values in revtool.
----------------------------------------------------------------------
Wed Aug 31 15:24:18 2005                        Michael Jennings (mej)

Thanks to a brilliant suggestion from Jim Perrin <jperrin@gmail.com>,
there's now a Makefile to aid in bootstrapping the build/install of
mezzanine from CVS on a system that doesn't already have it.  I have
no idea why I didn't think of that before....

Also some cleanups and new kernel spec templates.
----------------------------------------------------------------------
Wed Aug 31 18:24:55 2005                        Michael Jennings (mej)

specgen can now download files from URL's!  So instead of having to
wget that tarball yourself, just run:

specgen http://www.spanky.org/download/foo-1.0.tar.gz
----------------------------------------------------------------------
Thu Sep  8 13:15:43 2005                                           mej

Added -A/--args option to pkgtool (mzbuild) to allow passing of
arbitrary parameters to, e.g., rpmbuild.

Example:  mzbuild -A "--define 'with_selinux 1'"
----------------------------------------------------------------------
Wed Sep 28 19:04:22 2005                        Michael Jennings (mej)

Minor kernel package template fixes.
----------------------------------------------------------------------
Thu Sep 29 17:51:15 2005                        Michael Jennings (mej)

Added SCons template for specgen.

Use URL for source tarball if available.

Print progress .'s while downloading package.

Use %{name} and %{version} in generated spec files whenever possible.
----------------------------------------------------------------------
Thu Sep 29 17:53:18 2005                        Michael Jennings (mej)

Oops.
----------------------------------------------------------------------
Mon Oct 17 13:45:34 2005                        Michael Jennings (mej)

Allow nuke_tree() to take multiple parameters.
----------------------------------------------------------------------
Mon Oct 17 16:01:22 2005                        Michael Jennings (mej)

Allow mzbuild to accept URL's instead of having to wget them first.
----------------------------------------------------------------------
Thu Oct 27 18:00:44 2005                        Michael Jennings (mej)

Initial (VERY incomplete) work on "abiscan," a tool for scanning
platform ABI's, cataloging binary-level dependencies, and gauging
binary compatibility.
----------------------------------------------------------------------
Mon Nov  7 14:09:45 2005                        Michael Jennings (mej)

Stupid typos.
----------------------------------------------------------------------
Fri Dec 16 17:44:52 2005                        Michael Jennings (mej)

Fixed web template and added horde3 template.
----------------------------------------------------------------------
Fri Feb  3 14:49:44 2006                        Michael Jennings (mej)

Allow for chroot jail imaging info on the command line and in
non-parallel builds.

Use /bin/rpm from chroot jail whenever possible in case the jail's
version doesn't match the host's version.

Allow URL's in parameters passed to srctool (mzimport, mzmerge, etc.)
----------------------------------------------------------------------
Thu Feb 16 14:10:03 2006                        Michael Jennings (mej)

Added data object introspection routine.
----------------------------------------------------------------------
Tue Mar  7 06:22:48 2006                        Michael Jennings (mej)

Only handle URL's where appropriate.

Allow for merge file type specification along with URL for mzmerge.
----------------------------------------------------------------------
Tue Mar  7 07:10:04 2006                        Michael Jennings (mej)

Add routine for file uploads via POST.  Still needs debugging.
----------------------------------------------------------------------
Mon Mar 13 23:22:23 2006                        Michael Jennings (mej)

Allow POST requests to be redirected.
----------------------------------------------------------------------
Mon Mar 13 22:24:02 2006                        Michael Jennings (mej)

Support cookies when uploading/downloading.
----------------------------------------------------------------------
Wed Mar 15 00:31:28 2006                        Michael Jennings (mej)

If somebody (like me) mistakenly specifies a subversion repository
with -D to mzget, don't crap out.  Do the right thing.
----------------------------------------------------------------------
Mon Mar 27 14:51:37 2006                        Michael Jennings (mej)

Fix cookie module check.
----------------------------------------------------------------------
Tue Apr  4 16:50:40 2006                        Michael Jennings (mej)

Flag tainted objects in &examine_object().

Added a routine to untaint variables based on a regexp.
----------------------------------------------------------------------
Mon Jun  5 21:27:29 2006                        Michael Jennings (mej)

Added new RPM query format for abiscan.

Refactored changelog message to be an SCM object property.

Corrected Subversion "move" implementation to use "svn move".
----------------------------------------------------------------------
Tue Jun  6 17:52:18 2006                        Michael Jennings (mej)

Fix untaint() function.
----------------------------------------------------------------------
Tue Sep 26 15:32:39 2006                        Michael Jennings (mej)

Turn on taint checking for specgen.
----------------------------------------------------------------------
Tue Sep 26 16:11:16 2006                        Michael Jennings (mej)

Better checking for instroot paths when installing files.

More robust execution of rpm --eval subcommand.

Check basenames, not full paths, when looking for .#* and *~.
----------------------------------------------------------------------
Tue Oct  3 18:04:58 2006                        Michael Jennings (mej)

Taint fixes brought to light by specgen going -T.
----------------------------------------------------------------------
Fri Oct  6 22:17:57 2006                        Michael Jennings (mej)

Trying to import packages whose names begin with numbers would fail
because the vendor/release tags (and any other CVS tag) are forbidden
to begin with a number.  So the SCM::CVS module now strips leading
non-letter characters from tags.
----------------------------------------------------------------------
Wed Oct 11 17:53:35 2006                        Michael Jennings (mej)

Cosmetic tweak of debugging output.
----------------------------------------------------------------------
Thu Feb 22 20:48:32 2007                        Michael Jennings (mej)

Fixed horde3 package template.

Fixed permissions problem with chrooted builds.
----------------------------------------------------------------------
Tue Feb 27 16:30:05 2007                        Michael Jennings (mej)

Fix copyright years.
----------------------------------------------------------------------
Tue Feb 27 17:46:42 2007                        Michael Jennings (mej)

New tool -- pkgrepotool -- for managing package repositories.  Lots to
come here; it's nowhere near done yet. :)
----------------------------------------------------------------------
Tue Feb 27 19:54:19 2007                        Michael Jennings (mej)

More repo tool work.
----------------------------------------------------------------------
Wed Feb 28 14:18:18 2007                        Michael Jennings (mej)

pkgrepotool can now:
 - Scan local repositories, FTP, or HTTP
 - Find old, oldest, or newest packages, even across repositories
 - Spawn a pipe to CLU for version comparisons, falling back on
   built-in comparison routine if CLU is missing

Added support for extra headers to &fetch_url() along with progress
output suppression.
----------------------------------------------------------------------
Thu Mar  8 13:21:42 2007                        Michael Jennings (mej)

Add debugging to SRPM timestamp check.
----------------------------------------------------------------------
Thu Mar  8 18:01:11 2007                        Michael Jennings (mej)

Set $RPM_BUILD_NCPUS so RPM doesn't parallelize itself.

Treat .sig and .asc files as sources automatically.

Don't forceably exclude /proc when copying buildroots; if it's there
in the pristine original, there's probably a reason.
----------------------------------------------------------------------
Thu Mar  8 18:24:59 2007                        Michael Jennings (mej)

Enable use of "clu eval" as a spec file helper in addition to "rpm
--eval" as it contains workarounds for the macro expansion buffer size
limit.

Always allow an epoch of 0.
----------------------------------------------------------------------
Sat Mar 10 15:36:46 2007                        Michael Jennings (mej)

Add /proc workaround.
----------------------------------------------------------------------
Sun Mar 11 15:04:13 2007                        Michael Jennings (mej)

Refactored /proc workaround to automatically detect whether or not
/proc is mounted already and act accordingly.
----------------------------------------------------------------------
Thu Mar 15 01:20:45 2007                        Michael Jennings (mej)

Not building a package which doesn't build on the current architecture
isn't a "failure."

Fixed internal RPM version comparison bug.
----------------------------------------------------------------------
Thu Mar 15 02:15:37 2007                        Michael Jennings (mej)

Typo fix.
----------------------------------------------------------------------
Tue May 15 20:48:00 2007                        Michael Jennings (mej)

Add "rpmeval" from Jeff Johnson <n3npq@mac.com> to perform spec file
pre-processing to work around a macro processing bug that has been
fixed upstream for some time but that some distro vendors have been
slow in applying.  See the following bug for more details:
https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=228215
----------------------------------------------------------------------
Wed May 16 15:05:58 2007                        Michael Jennings (mej)

Fix for RHEL4's RPM version from Jason Corley <jason.corley@gmail.com>
and fixed build arch.
----------------------------------------------------------------------
Mon May 21 19:13:04 2007                        Michael Jennings (mej)

Tweaks for rpm 4.4.9, new PHP extension template, reorg of
pkgrepotool.
----------------------------------------------------------------------
Tue May 22 14:42:21 2007                        Michael Jennings (mej)

Fleshed out the repository comparison stuff in pkgrepotool.  Not
super-thoroughly tested, but the testing I've done so far looks
*really* nice. :-)

Added get_backtrace() to supplement show_backtrace() for situations
where the trace is better provided in array form.

Refactored rpm_sort() comparison code into separate rpm_cmp() function
which can be used independently.
----------------------------------------------------------------------
Tue May 22 16:29:11 2007                        Michael Jennings (mej)

Using jbj's rpmeval.c as a starting point, I whipped up rpmcmp.c, a
quickie wrapper around rpmvercmp() based on my similar work done for
CLU.  Not as good as jbj could do, but it's a start.  Needs some
command line options and possibly a conversion to rpmds.  Works for
now though.
----------------------------------------------------------------------
Tue May 22 17:45:40 2007                        Michael Jennings (mej)

Switch from "clu cmp" to "rpmcmp" for version comparison pipe.

Begin work on repo merge.
----------------------------------------------------------------------
Thu May 24 12:33:47 2007                        Michael Jennings (mej)

Refactored repo comparison to generate data structures instead of
printing results so that merge can reuse the comparison routines.

Decode HTML %xx encodings in filenames when using HTTP-based
repositories.
----------------------------------------------------------------------
Thu May 24 16:38:23 2007                        Michael Jennings (mej)

Refactor repository functions into a module so they can be reused by
other tools.

Stripped out merging stuff; it's too hard to do generically because
there's no single concept of what "merge" means.  As long as we can
get a comparison, we can use it in other tools however we wish.
----------------------------------------------------------------------
Tue Jun  5 12:15:32 2007                        Michael Jennings (mej)

Attempting to fix a bug in Subversion support found by Jim Perrin.
Let's see if this works.
----------------------------------------------------------------------
Tue Jun  5 16:49:13 2007                        Michael Jennings (mej)

Hopefully this will fix mzimport for Subversion.
----------------------------------------------------------------------
Tue Jun  5 17:14:23 2007                        Michael Jennings (mej)

One more touchup for svn import.
----------------------------------------------------------------------
